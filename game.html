<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spiderman VS Venom</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Itim&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css" />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  </head>

  <body>
    <audio autoplay loop="true">
      <source src="battleMusic.mp3" type="audio/mpeg">
    </audio>
    <div class="container">
      <h2>SPIDER MAN</h2>
      <div class="progress" style="width: 350px; height: 20px">
        <div class="progressbar healthbar_hero" id="hp_hero"></div>
      </div>
    </div>
    <div class="container2">
      <h2>VENOM</h2>
      <div class="progress" style="width: 350px; height: 20px">
        <div class="progressbar healthbar" id="hp"></div>
      </div>
    </div>
    <div class="post">
      <img class="spider" src="./img/v2.png" height="250px" />
      <img class="vs" src="./img/logoVS.png" width= "300px"/>
      <img class="venom" src="./img/venom2.png" height="270px" />
    </div>
    <div id="bottomRow">
      <h3 class="ph" id="ph">Welcome to The Battle!</h3>
      <p class="ps" id="ps">Press start to fight!.</p>
      <p id="tbr"></p>
      <p id="miss"></p>

    </div>

    <div id="start">
      <button onclick="show_b()" class="start" id="st">START</button>
      <button onclick="attack(),show_b(),audioat.play();" class="attack" id="at">ATTACK</button>
      <button onclick="sattack(),show_b(),audiosat.play();"  class="SPattack" id="ul" >ULTIMATE</button>
      <button onclick="start(),show_b(),audioag.play();"  class="reset" id="rt">Play again!</button>
      <button onclick="window.close(),audioqt.play();" class="close" id="close">Quit Game!</button>
      <p id="end_spider" class="end_spider">SpiderMan WIN!</p>
      <p id="end_venom" class="end_venom">Venom WIN!</p>
      
      
    
    </div>
  </body>
</html>

<script>
  
var hp_spiderman = 100;
var hp_venom = 100;
var start;

const audio1 = new Audio();
audio1.src = "./sound/mixkit-quick-win-video-game-notification-269.wav";

const audioat = new Audio();
audioat.src = "./sound/punch1.mp3";

const audiosat = new Audio();
audiosat.src = "./sound/punch2.mp3";

const audioag = new Audio();
audioag.src = "./sound/mixkit-sci-fi-interface-robot-click-901.wav";

const audioqt = new Audio();
audioqt.src = "./sound/mixkit-game-quick-warning-notification-268.wav";


function show_b() {
  if (start == 1) {
    document.getElementById("ph").style.display = "inline";
    document.getElementById("ps").style.display = "inline";
    document.getElementById("st").style.display = "inline";
    document.getElementById("at").style.display = "none";
    document.getElementById("ul").style.display = "none";
    return (start = 0);
  } else {
    document.getElementById("ps").style.display = "none";
    document.getElementById("ph").style.display = "none";
    document.getElementById("st").style.display = "none";
    document.getElementById("at").style.display = "inline";
    document.getElementById("ul").style.display = "inline";
  }
  if (hp_venom <= 0) {
    document.getElementById("at").style.display = "none";
    document.getElementById("ul").style.display = "none";
  }
  if (hp_spiderman <= 0) {
    document.getElementById("ul").style.display = "none";
    document.getElementById("at").style.display = "none";
  }
}

function attack() {
  var attack = Math.max(Math.floor(Math.random() * 10) + 1, 3);
  var reattack = Math.max(Math.floor(Math.random() * 20) + 1, 5);

  if (attack >= 5) {
    hp_spiderman = hp_spiderman - reattack;
    hp_venom = hp_venom - attack;
    document.getElementById("miss").style.display = "none";
    document.getElementById("tbr").style.display = "inline";
    tbr.innerHTML =
      "SpiderMan his Venom " +
      attack +
      " damage. Venom now has " +
      hp_venom +
      " HP.";
  } else {
    document.getElementById("miss").style.display = "inline";
    document.getElementById("tbr").style.display = "none";
    miss.innerHTML = "SpiderMan hit missed!!";
  }

  if (hp_venom <= 0) {
    hp_venom = 0;
    document.getElementById("miss").style.display = "none";
    document.getElementById("tbr").style.display = "none";
    document.getElementById("end_spider").style.display = "inline";
    document.getElementById("rt").style.display = "inline";
    document.getElementById("close").style.display = "inline";
  }

  if (hp_spiderman <= 0) {
    hp_spiderman = 0;
    document.getElementById("miss").style.display = "none";
    document.getElementById("tbr").style.display = "none";
    document.getElementById("rt").style.display = "inline";
    document.getElementById("end_venom").style.display = "inline";
    document.getElementById("close").style.display = "inline";
  }
  document.getElementById("hp").style.width = hp_venom + "%";
  document.getElementById("hp_hero").style.width = hp_spiderman + "%";
}

function sattack() {
  var attack = Math.max(Math.floor(Math.random() * 20) + 1, 10);
  var reattack = Math.max(Math.floor(Math.random() * 15) + 1, 5);
  if (attack >= 11) {
    hp_venom = hp_venom - attack;
    document.getElementById("miss").style.display = "none";
    document.getElementById("tbr").style.display = "inline";
    tbr.innerHTML =
      "SpiderMan his Venom " +
      attack +
      " damage. Venom now has " +
      hp_venom +
      " HP.";
  } else {
    document.getElementById("miss").style.display = "inline";
    document.getElementById("tbr").style.display = "none";
    miss.innerHTML = "SpiderMan hit missed!!";
  }
  hp_spiderman = hp_spiderman - reattack;
  if (hp_venom <= 0) {
    hp_venom = 0;
    document.getElementById("miss").style.display = "none";
    document.getElementById("tbr").style.display = "none";
    document.getElementById("rt").style.display = "inline";
    document.getElementById("end_spider").style.display = "inline";
    document.getElementById("close").style.display = "inline";
  }
  if (hp_spiderman <= 0) {
    hp_spiderman = 0;
    document.getElementById("miss").style.display = "none";
    document.getElementById("tbr").style.display = "none";
    document.getElementById("rt").style.display = "inline";
    document.getElementById("end_venom").style.display = "inline";
    document.getElementById("close").style.display = "inline";
  }
  document.getElementById("hp").style.width = hp_venom + "%";
  document.getElementById("hp_hero").style.width = hp_spiderman + "%";
}
function start() {
  hp_venom = 100;
  hp_spiderman = 100;
  document.getElementById("end_venom").style.display = "none";
  document.getElementById("end_spider").style.display = "none";
  document.getElementById("rt").style.display = "none";
  document.getElementById("close").style.display = "none";
  document.getElementById("hp").style.width = hp_venom + "%";
  document.getElementById("hp_hero").style.width = hp_spiderman + "%";
}

</script>

